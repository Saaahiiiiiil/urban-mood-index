/* ═══════════════════════════════════════════════
   URBAN MOOD INDEX — style.css
   ═══════════════════════════════════════════════ */

:root {
  --bg:      #050508;
  --surface: #0d0d14;
  --border:  rgba(255,255,255,0.06);
  --green:   #00ff88;
  --yellow:  #ffcc00;
  --red:     #ff3344;
  --blue:    #00aaff;
  --text:    #e8e8f0;
  --muted:   #555570;
  --glow-green:  0 0 30px rgba(0,255,136,0.3);
  --glow-yellow: 0 0 30px rgba(255,204,0,0.3);
  --glow-red:    0 0 30px rgba(255,51,68,0.3);
}

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
html { scroll-behavior: smooth; }

body {
  background: var(--bg);
  color: var(--text);
  font-family: 'Space Mono', monospace;
  overflow-x: hidden;
  cursor: none;
}

/* Grain */
body::before {
  content: '';
  position: fixed; inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.04'/%3E%3C/svg%3E");
  pointer-events: none; z-index: 9997; opacity: 0.4;
}

/* Scanlines */
body::after {
  content: '';
  position: fixed; inset: 0;
  background: repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(0,0,0,0.03) 2px, rgba(0,0,0,0.03) 4px);
  pointer-events: none; z-index: 9996;
}

/* ─── Cursor ─────────────────────────────────── */
#cursor {
  position: fixed; width: 12px; height: 12px;
  background: var(--green); border-radius: 50%;
  pointer-events: none; z-index: 9999;
  transform: translate(-50%,-50%);
  mix-blend-mode: screen;
  transition: width .2s, height .2s;
  box-shadow: var(--glow-green);
}
#cursor-trail {
  position: fixed; width: 36px; height: 36px;
  border: 1px solid rgba(0,255,136,0.3); border-radius: 50%;
  pointer-events: none; z-index: 9998;
  transform: translate(-50%,-50%);
}

/* ─── Animations ────────────────────────────── */
@keyframes pulse {
  0%,100% { opacity:1; transform:scale(1); }
  50%      { opacity:.5; transform:scale(.8); }
}
@keyframes fadeUp {
  from { opacity:0; transform:translateY(30px); }
  to   { opacity:1; transform:translateY(0); }
}
@keyframes bounce {
  0%,100% { transform:translateX(-50%) translateY(0); }
  50%      { transform:translateX(-50%) translateY(8px); }
}
@keyframes ticker-scroll {
  from { transform:translateX(0); }
  to   { transform:translateX(-50%); }
}
@keyframes shimmer {
  0%   { background-position: -600px 0; }
  100% { background-position:  600px 0; }
}

/* ─── Nav ───────────────────────────────────── */
nav {
  position: fixed; top:0; left:0; right:0; z-index:100;
  display: flex; justify-content:space-between; align-items:center;
  padding: 1.5rem 3rem;
  background: rgba(5,5,8,.8); backdrop-filter: blur(20px);
  border-bottom: 1px solid var(--border);
}
.nav-logo {
  font-family:'Bebas Neue',sans-serif; font-size:1.6rem;
  letter-spacing:.15em; color:var(--green);
  text-shadow: var(--glow-green);
}
.nav-right { display:flex; align-items:center; gap:2rem; }
.nav-status { display:flex; align-items:center; gap:.6rem; font-size:.7rem; color:var(--muted); letter-spacing:.1em; }
.nav-time   { font-size:.75rem; color:var(--muted); }

.live-dot {
  width:8px; height:8px; border-radius:50%;
  background:var(--green); animation:pulse 1.5s infinite;
  box-shadow: var(--glow-green); flex-shrink:0;
}

/* ─── Ticker ────────────────────────────────── */
.ticker-wrap {
  position:fixed; top:64px; left:0; right:0; z-index:99;
  background:var(--surface); overflow:hidden; white-space:nowrap;
  border-bottom:1px solid var(--border);
  padding:.75rem 0;
}
.ticker-inner {
  display:inline-flex; gap:4rem;
  animation:ticker-scroll 30s linear infinite;
  font-size:.7rem; letter-spacing:.1em; color:var(--muted);
}
.ticker-item { display:inline-flex; align-items:center; gap:.5rem; }
.ticker-val  { color:var(--green); }
.ticker-val.yellow { color:var(--yellow); }
.ticker-val.red    { color:var(--red); }

/* ─── Sections ──────────────────────────────── */
.section { padding:6rem 3rem; }

.section-label {
  font-size:.65rem; letter-spacing:.3em; color:var(--green);
  text-transform:uppercase; margin-bottom:1rem;
  display:flex; align-items:center; gap:1rem;
}
.section-label::after { content:''; flex:1; height:1px; background:var(--border); }

.section-heading {
  font-family:'Bebas Neue',sans-serif;
  font-size:clamp(2.5rem,6vw,5rem); line-height:1; margin-bottom:3rem;
}

/* reveal animation */
.reveal { opacity:0; transform:translateY(24px); transition:opacity .7s ease, transform .7s ease; }
.reveal.in-view { opacity:1; transform:translateY(0); }

/* ─── Hero ──────────────────────────────────── */
.hero {
  min-height:100vh; display:flex; flex-direction:column;
  justify-content:center; padding:8rem 3rem 4rem;
  position:relative; overflow:hidden;
}
.hero-bg {
  position:absolute; inset:0;
  background:
    radial-gradient(ellipse 60% 50% at 70% 50%, rgba(0,255,136,.04) 0%, transparent 70%),
    radial-gradient(ellipse 40% 60% at 10% 80%, rgba(0,170,255,.05) 0%, transparent 60%);
}
.hero-grid {
  position:absolute; inset:0;
  background-image:
    linear-gradient(rgba(255,255,255,.015) 1px, transparent 1px),
    linear-gradient(90deg, rgba(255,255,255,.015) 1px, transparent 1px);
  background-size:60px 60px;
  mask-image:radial-gradient(ellipse at center, black 30%, transparent 80%);
  -webkit-mask-image:radial-gradient(ellipse at center, black 30%, transparent 80%);
}
.hero-content { position:relative; z-index:1; }

.hero-eyebrow {
  font-size:.7rem; letter-spacing:.3em; color:var(--green);
  text-transform:uppercase; margin-bottom:1.5rem;
  opacity:0; animation:fadeUp .8s .3s forwards;
}
.hero-title {
  font-family:'Bebas Neue',sans-serif;
  font-size:clamp(5rem,14vw,14rem); line-height:.9;
  letter-spacing:-.02em; margin-bottom:.5rem;
  opacity:0; animation:fadeUp .8s .5s forwards;
}
.hero-title span {
  -webkit-text-stroke:1px rgba(255,255,255,.15); color:transparent;
}
.hero-subtitle {
  font-family:'Syne',sans-serif; font-size:clamp(1rem,2.5vw,1.6rem);
  font-weight:400; color:var(--muted); max-width:480px;
  margin-bottom:3rem; line-height:1.6;
  opacity:0; animation:fadeUp .8s .7s forwards;
}
.hero-stats {
  display:flex; gap:3rem;
  opacity:0; animation:fadeUp .8s .9s forwards;
}
.hero-stat { display:flex; flex-direction:column; gap:.3rem; }
.hero-stat-num   { font-family:'Bebas Neue',sans-serif; font-size:2.5rem; color:var(--green); line-height:1; }
.hero-stat-label { font-size:.65rem; letter-spacing:.15em; color:var(--muted); text-transform:uppercase; }

.hero-scroll {
  position:absolute; bottom:2rem; left:50%;
  display:flex; flex-direction:column; align-items:center; gap:.5rem;
  font-size:.65rem; letter-spacing:.2em; color:var(--muted);
  animation:bounce 2s infinite;
}
.hero-scroll-line { width:1px; height:50px; background:linear-gradient(to bottom,var(--muted),transparent); }

/* ─── City Cards ────────────────────────────── */
.cities-section { border-top:1px solid var(--border); }

.city-grid {
  display:grid; grid-template-columns:repeat(3,1fr);
  gap:1px; background:var(--border);
  border:1px solid var(--border);
}

.city-card {
  background:var(--surface); padding:2.5rem;
  position:relative; overflow:hidden;
  transition:background .3s; cursor:none;
}
.city-card:hover { background:#111118; }
.city-card::before {
  content:''; position:absolute; top:0; left:0; right:0; height:2px;
  opacity:0; transition:opacity .3s;
  background:var(--card-accent,var(--green));
}
.city-card:hover::before { opacity:1; }

.city-name  { font-family:'Syne',sans-serif; font-weight:700; font-size:.75rem; letter-spacing:.25em; color:var(--muted); text-transform:uppercase; margin-bottom:1rem; }
.city-score { font-family:'Bebas Neue',sans-serif; font-size:5rem; line-height:1; margin-bottom:.5rem; transition:color .3s; }

.city-status {
  font-size:.7rem; letter-spacing:.15em; text-transform:uppercase;
  padding:.3rem .8rem; border-radius:2px;
  display:inline-flex; align-items:center; gap:.4rem;
}
.city-status.positive { background:rgba(0,255,136,.1);  color:var(--green); }
.city-status.neutral  { background:rgba(255,204,0,.1);   color:var(--yellow); }
.city-status.negative { background:rgba(255,51,68,.1);  color:var(--red); }

.city-bar-wrap { margin-top:2rem; height:3px; background:rgba(255,255,255,.05); border-radius:2px; overflow:hidden; }
.city-bar      { height:100%; border-radius:2px; transition:width 1s cubic-bezier(.4,0,.2,1); }

.city-meta { margin-top:1.5rem; display:flex; gap:1.5rem; }
.city-meta-item { display:flex; flex-direction:column; gap:.3rem; }
.city-meta-val  { font-family:'Space Mono',monospace; font-size:.9rem; font-weight:700; }
.city-meta-key  { font-size:.6rem; letter-spacing:.12em; text-transform:uppercase; color:var(--muted); }

.city-bignum {
  position:absolute; bottom:-1rem; right:1.5rem;
  font-family:'Bebas Neue',sans-serif; font-size:10rem;
  opacity:.025; line-height:1; pointer-events:none;
}

/* skeleton */
.city-skeleton {
  background:var(--surface);
  background-image:linear-gradient(90deg,var(--surface) 0%,#1a1a28 50%,var(--surface) 100%);
  background-size:600px 100%; animation:shimmer 1.5s infinite;
  min-height:280px;
}

/* ─── Chart ─────────────────────────────────── */
.chart-section { border-top:1px solid var(--border); }

.chart-wrap {
  background:var(--surface); border:1px solid var(--border);
  padding:2rem; height:320px;
}

.chart-legend { display:flex; gap:2rem; margin-top:1rem; }
.legend-item  { display:flex; align-items:center; gap:.5rem; font-size:.65rem; letter-spacing:.1em; color:var(--muted); }
.legend-dot   { width:24px; height:2px; border-radius:1px; }

/* ─── Stress Gauges ─────────────────────────── */
.stress-section { border-top:1px solid var(--border); }

.stress-grid {
  display:grid; grid-template-columns:repeat(3,1fr); gap:2rem;
}
.stress-card {
  background:var(--surface); border:1px solid var(--border);
  padding:2rem; text-align:center; position:relative; overflow:hidden;
}
.gauge-wrap  { width:140px; height:80px; margin:0 auto 1.5rem; }
.gauge-track { fill:none; stroke:rgba(255,255,255,.06); stroke-width:12; stroke-linecap:round; }
.gauge-fill  { fill:none; stroke-width:12; stroke-linecap:round; transition:stroke-dashoffset 1.5s cubic-bezier(.4,0,.2,1); }
.gauge-city  { font-size:.65rem; letter-spacing:.2em; text-transform:uppercase; color:var(--muted); margin-bottom:1rem; }
.gauge-label { font-family:'Bebas Neue',sans-serif; font-size:2.2rem; line-height:1; }
.gauge-forecast { font-size:.65rem; color:var(--muted); margin-top:.5rem; letter-spacing:.1em; }

/* ─── Pipeline ──────────────────────────────── */
.arch-section { border-top:1px solid var(--border); }

.pipeline {
  display:flex; align-items:stretch;
  overflow-x:auto; padding-bottom:1rem;
}
.pipeline-node {
  flex:1; min-width:160px;
  background:var(--surface); border:1px solid var(--border);
  border-left:none; padding:2rem 1.5rem; position:relative;
  transition:border-color .3s, background .3s;
}
.pipeline-node:first-child { border-left:1px solid var(--border); }
.pipeline-node:hover { border-color:rgba(0,255,136,.3); background:#0f0f18; }

.pipeline-arrow {
  position:absolute; right:-14px; top:50%; transform:translateY(-50%);
  width:28px; height:28px; background:var(--bg);
  border:1px solid var(--border); border-radius:50%;
  display:flex; align-items:center; justify-content:center;
  font-size:.7rem; z-index:10; color:var(--green);
}
.pipeline-icon  { font-size:1.5rem; margin-bottom:1rem; }
.pipeline-title { font-family:'Syne',sans-serif; font-weight:700; font-size:.85rem; margin-bottom:.5rem; letter-spacing:.05em; }
.pipeline-desc  { font-size:.65rem; color:var(--muted); line-height:1.6; letter-spacing:.03em; }
.pipeline-tag   { margin-top:1rem; font-size:.6rem; letter-spacing:.12em; text-transform:uppercase; color:var(--green); opacity:.6; }

/* ─── Alerts ────────────────────────────────── */
.alerts-section { border-top:1px solid var(--border); }

.alert-item {
  border:1px solid var(--border); padding:1.2rem 1.5rem; margin-bottom:1px;
  display:flex; align-items:center; gap:1.5rem;
  background:var(--surface); transition:background .2s;
  position:relative; overflow:hidden;
}
.alert-item:hover { background:#111118; }
.alert-item::before { content:''; position:absolute; left:0; top:0; bottom:0; width:3px; }
.alert-item.high::before     { background:var(--red); }
.alert-item.moderate::before { background:var(--yellow); }
.alert-item.stable::before   { background:var(--green); }

.alert-icon    { font-size:1.2rem; }
.alert-body    { flex:1; }
.alert-city    { font-family:'Syne',sans-serif; font-weight:700; font-size:.65rem; letter-spacing:.2em; text-transform:uppercase; margin-bottom:.2rem; }
.alert-msg     { font-size:.8rem; letter-spacing:.05em; margin-bottom:.2rem; }
.alert-time    { font-size:.6rem; color:var(--muted); letter-spacing:.1em; }
.alert-badge   { font-size:.6rem; letter-spacing:.12em; text-transform:uppercase; padding:.2rem .6rem; border-radius:2px; white-space:nowrap; }
.alert-badge.high     { background:rgba(255,51,68,.15);  color:var(--red); }
.alert-badge.moderate { background:rgba(255,204,0,.15);  color:var(--yellow); }
.alert-badge.stable   { background:rgba(0,255,136,.15); color:var(--green); }

/* ─── Footer ────────────────────────────────── */
footer {
  padding:3rem; border-top:1px solid var(--border);
  display:flex; justify-content:space-between; align-items:flex-end;
}
.footer-logo {
  font-family:'Bebas Neue',sans-serif; font-size:3rem;
  color:var(--muted); letter-spacing:.1em; line-height:1;
}
.footer-sub { margin-top:1rem; font-size:.65rem; color:var(--muted); letter-spacing:.1em; max-width:300px; line-height:1.8; }
.footer-right { text-align:right; }
.footer-row { font-size:.65rem; color:var(--muted); letter-spacing:.1em; line-height:2.2; display:flex; justify-content:flex-end; gap:1rem; }
.footer-key { color:var(--muted); }
.footer-row span:last-child { color:var(--text); }

/* ─── Error state ───────────────────────────── */
.api-error {
  text-align:center; padding:3rem;
  font-size:.75rem; color:var(--red); letter-spacing:.1em;
}

/* ─── Responsive ────────────────────────────── */
@media (max-width:768px) {
  nav { padding:1rem 1.5rem; }
  .section { padding:4rem 1.5rem; }
  .hero { padding:7rem 1.5rem 3rem; }
  .city-grid  { grid-template-columns:1fr; }
  .stress-grid { grid-template-columns:1fr; }
  .pipeline { flex-direction:column; }
  .pipeline-node { border-left:1px solid var(--border) !important; border-top:none; }
  .pipeline-node:first-child { border-top:1px solid var(--border); }
  .pipeline-arrow { display:none; }
  footer { flex-direction:column; gap:2rem; align-items:flex-start; }
  .footer-right { text-align:left; }
  .footer-row { justify-content:flex-start; }
}
